# Aether Blockchain - Test Environment
FROM rust:1.86-slim

WORKDIR /workspace

# Install test dependencies
RUN apt-get update && apt-get install -y \
    pkg-config \
    libssl-dev \
    git \
    clang \
    llvm-dev \
    libclang-dev \
    && rm -rf /var/lib/apt/lists/*

# Copy workspace
COPY . .

# Default command (overridden by docker-compose)
CMD ["cargo", "test", "--all-features", "--workspace"]
